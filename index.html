<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>Web3 Hoy ‚Äî Web3 explicado para todos</title>
<link rel="icon" href="https://vpvsrjkotstvjywhuacr.supabase.co/storage/v1/object/public/logos/web3-hoy.svg">
<link href="https://fonts.googleapis.com/css2?family=Instrument+Serif&family=DM+Sans:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<style>
*{margin:0;padding:0;box-sizing:border-box}
:root{--ink:#111;--paper:#fafaf8;--warm:#f2efe9;--accent:#80ed99;--muted:#999;--border:#e5e2dc}
body{font-family:'DM Sans',sans-serif;background:var(--paper);color:var(--ink);min-height:100vh}
a{color:inherit;text-decoration:none}
::selection{background:var(--accent);color:var(--ink)}

/* HEADER ‚Äî Narrative style */
.promo-bar{background:var(--accent);text-align:center;padding:8px;font-size:.72rem;font-weight:600;letter-spacing:.5px}
.header{max-width:1100px;margin:0 auto;padding:1.5rem 2rem;display:flex;align-items:center;justify-content:space-between;border-bottom:1px solid var(--border)}
.logo{font-family:'Instrument Serif',serif;font-size:1.8rem}
.nav{display:flex;gap:2rem;align-items:center;overflow:hidden;max-width:60%}
.nav a{font-size:.82rem;color:var(--muted);font-weight:500;transition:.2s}
.nav a:hover{color:var(--ink)}
.subscribe-btn{background:var(--ink);color:#fff;padding:8px 20px;border-radius:20px;font-size:.8rem;font-weight:600;transition:.2s;cursor:pointer}
.subscribe-btn:hover{background:#333}
.search-input{border:none;background:transparent;font-size:.85rem;font-family:inherit;color:var(--ink);outline:none;width:0;transition:width .3s;overflow:hidden}
.search-input.open{width:180px;padding-left:8px}
.search-toggle{cursor:pointer;padding:4px}

/* HERO ‚Äî Big title with email capture */
.hero-wrapper{max-width:700px;margin:4rem auto 3rem;text-align:center;padding:0 2rem}
.hero-wrapper h1{font-family:'Instrument Serif',serif;font-size:3rem;font-weight:400;line-height:1.2;margin-bottom:1.5rem}
.email-bar{display:flex;gap:0;max-width:400px;margin:0 auto 8px;border:1px solid var(--border);border-radius:4px;overflow:hidden}
.email-bar input{flex:1;padding:12px 16px;border:none;font-family:inherit;font-size:.85rem;background:#fff}
.email-bar input:focus{outline:none}
.email-bar button{background:var(--ink);color:#fff;border:none;padding:12px 20px;font-family:inherit;font-size:.8rem;font-weight:600;cursor:pointer}
.small-note{font-size:.72rem;color:var(--muted)}
.divider{max-width:1100px;margin:0 auto;height:1px;background:var(--border)}

/* FEATURED ‚Äî Large card + side */
.featured{max-width:1100px;margin:3rem auto;padding:0 2rem;display:grid;grid-template-columns:1.3fr 1fr;gap:3rem}
.featured-main{cursor:pointer}
.featured-main:hover h2{opacity:.7}
.featured-img{background:linear-gradient(135deg,var(--warm),#ddd5c8);border-radius:8px;height:320px;margin-bottom:1.5rem;position:relative;overflow:hidden}
.featured-img::after{content:'‚õì';position:absolute;bottom:15px;right:20px;font-size:3rem;opacity:.15}
.featured-main h2{font-family:'Instrument Serif',serif;font-size:2rem;font-weight:400;line-height:1.25;margin-bottom:.8rem;transition:.2s}
.featured-main p{font-size:.9rem;line-height:1.7;color:var(--muted)}
.featured-main .meta{margin-top:1rem;font-size:.75rem;color:var(--muted)}
.featured-main .meta span{color:var(--ink);font-weight:500}
.featured-side{display:flex;flex-direction:column;gap:0}
.side-card{padding:1.5rem 0;border-bottom:1px solid var(--border);cursor:pointer;display:grid;grid-template-columns:1fr 100px;gap:1.5rem;align-items:start}
.side-card:first-child{padding-top:0}
.side-card:last-child{border-bottom:none}
.side-card:hover h3{opacity:.6}
.side-card h3{font-family:'Instrument Serif',serif;font-size:1.15rem;font-weight:400;line-height:1.35;transition:.2s}
.side-card p{font-size:.8rem;color:var(--muted);line-height:1.5;margin-top:6px}
.side-card .meta{font-size:.7rem;color:var(--muted);margin-top:6px}
.side-card .meta span{color:var(--ink);font-weight:500}
.side-thumb{width:100px;height:80px;background:var(--warm);border-radius:6px}
.side-thumb:nth-child(2){background:#e8ddd0}

/* NEWS GRID ‚Äî Narrative 2-col layout */
.grid-section{max-width:1100px;margin:2rem auto;padding:0 2rem}
.grid-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:1.5rem}
.grid-header h2{font-family:'Instrument Serif',serif;font-size:1.4rem;font-weight:400}
.filters{display:flex;gap:6px;flex-wrap:wrap}
.filter-btn{background:none;border:1px solid var(--border);border-radius:20px;padding:6px 14px;font-size:.72rem;font-family:inherit;color:var(--muted);cursor:pointer;transition:.2s;font-weight:500}
.filter-btn:hover,.filter-btn.active{background:var(--ink);color:#fff;border-color:var(--ink)}

.news-grid{display:grid;grid-template-columns:1fr 1fr;gap:2.5rem}
.news-card{cursor:pointer;padding-bottom:2rem;border-bottom:1px solid var(--border)}
.news-card:hover h3{opacity:.6}
.card-img{height:200px;background:var(--warm);border-radius:8px;margin-bottom:1rem;position:relative;overflow:hidden}
.card-img.v2{background:linear-gradient(135deg,#e8ddd0,#d5cfc5)}
.card-img.v3{background:linear-gradient(135deg,#dde8d0,#c5d5bf)}
.card-img.v4{background:linear-gradient(135deg,#d0dde8,#bfc5d5)}
.news-card h3{font-family:'Instrument Serif',serif;font-size:1.3rem;font-weight:400;line-height:1.3;margin-bottom:6px;transition:.2s}
.news-card p{font-size:.85rem;line-height:1.65;color:var(--muted)}
.news-card .meta{font-size:.72rem;color:var(--muted);margin-top:8px}
.news-card .meta span{color:var(--ink);font-weight:500}

/* NEWSLETTER BANNER */
.newsletter-banner{max-width:1100px;margin:3rem auto;padding:3rem;background:var(--warm);border-radius:8px;display:flex;align-items:center;justify-content:space-between}
.newsletter-banner h2{font-family:'Instrument Serif',serif;font-size:1.5rem;font-weight:400}
.newsletter-banner .email-bar{margin:0;border:1px solid var(--border)}

/* FOOTER */
footer{max-width:1100px;margin:3rem auto 0;padding:3rem 2rem;border-top:1px solid var(--border);display:grid;grid-template-columns:2fr 1fr 1fr 1fr;gap:2rem}
footer .f-brand{font-family:'Instrument Serif',serif;font-size:1.5rem}
footer .f-brand p{font-family:'DM Sans',sans-serif;font-size:.8rem;color:var(--muted);margin-top:8px;font-weight:400}
footer h4{font-size:.68rem;text-transform:uppercase;letter-spacing:2px;color:var(--muted);margin-bottom:1rem;font-weight:600}
footer ul{list-style:none}footer li{margin-bottom:8px}
footer li a{font-size:.82rem;color:var(--ink);transition:.2s}footer li a:hover{opacity:.5}
.f-bottom{text-align:center;padding:2rem;font-size:.7rem;color:var(--muted)}

/* ARTICLE */
.article-view{display:none;max-width:680px;margin:0 auto;padding:3rem 2rem}
.back-btn{font-size:.8rem;color:var(--muted);cursor:pointer;margin-bottom:2rem;font-weight:500;transition:.2s}
.back-btn:hover{color:var(--ink)}
.article-view h1{font-family:'Instrument Serif',serif;font-size:2.5rem;font-weight:400;line-height:1.2;margin-bottom:1rem}
.article-view .article-meta{font-size:.78rem;color:var(--muted);margin-bottom:2rem;padding-bottom:1.5rem;border-bottom:1px solid var(--border)}
.article-view .article-body{font-size:1.05rem;line-height:1.9;color:#444}
.article-view .article-body h2{font-family:'Instrument Serif',serif;font-size:1.6rem;font-weight:400;margin:2rem 0 1rem;color:var(--ink)}
.article-view .article-body h3{font-size:1.15rem;margin:1.5rem 0 .8rem;font-weight:600}
.article-view .article-body p{margin-bottom:1.2rem}
.article-view .article-body strong{color:var(--ink);font-weight:600}
.article-view .article-body blockquote{border-left:3px solid var(--accent);padding:1rem 1.5rem;margin:1.5rem 0;color:var(--muted);background:var(--warm);border-radius:0 6px 6px 0}
.article-view .article-body ul,.article-view .article-body ol{margin:1rem 0 1rem 1.5rem}
.article-view .article-body li{margin-bottom:.5rem}

.loader{text-align:center;padding:4rem;font-family:'Instrument Serif',serif;font-size:1.1rem;color:var(--muted)}

@media(max-width:768px){
.hero-wrapper h1{font-size:2rem}
.featured{grid-template-columns:1fr}
.news-grid{grid-template-columns:1fr}
.nav{display:none}
footer{grid-template-columns:1fr 1fr}
.newsletter-banner{flex-direction:column;text-align:center;gap:1.5rem}
}
</style>
</head>
<body>

<div class="promo-bar">üì° Informaci√≥n blockchain actualizada cada hora ¬∑ Noticias en espa√±ol</div>

<div class="header">
<div class="logo"><img src="https://vpvsrjkotstvjywhuacr.supabase.co/storage/v1/object/public/logos/web3-hoy.svg" alt="Web3 Hoy" style="height:40px;vertical-align:middle;margin-right:8px">Web3 Hoy</div>
<div class="nav" id="navFilters"></div>
<div style="display:flex;align-items:center;gap:12px">
<input class="search-input open" type="text" placeholder="Buscar..." oninput="doSearch(this.value)">
<div class="subscribe-btn">Suscribir</div>
</div>
</div>

<div id="mainView">
<div class="hero-wrapper">
<h1>Pensamientos, an√°lisis y noticias de Web3 Hoy</h1>
<div class="email-bar"><input type="email" placeholder="Tu email"><button>Suscribir</button></div>
<div class="small-note">Contenido de calidad. Sin spam.</div>
</div>

<div class="divider"></div>

<div id="heroSection"></div>

<div class="divider"></div>

<div class="grid-section">
<div class="grid-header">
<h2>M√°s noticias</h2>
<div class="filters" id="filters"></div>
</div>
<div class="news-grid" id="newsGrid"></div>
</div>

<div class="newsletter-banner">
<h2>Recibe lo mejor directo en tu inbox</h2>
<div class="email-bar"><input type="email" placeholder="Tu email"><button>Suscribir</button></div>
</div>
</div>

<div class="article-view" id="articleView">
<div class="back-btn" onclick="goBack()">‚Üê Volver</div>
<h1 id="artTitle"></h1>
<div class="article-meta" id="artMeta"></div>
<div class="article-body" id="artBody"></div>
</div>

<footer>
<div><div class="f-brand">Web3 Hoy</div><p>Noticias blockchain confiables en espa√±ol.</p></div>
<div><h4>P√°ginas</h4><ul><li><a href="#">Inicio</a></li><li><a href="#">Suscribir</a></li></ul></div>
<div><h4>Categor√≠as</h4><ul><li><a href="#" onclick="setFilter('bitcoin')">Bitcoin</a></li><li><a href="#" onclick="setFilter('defi')">DeFi</a></li><li><a href="#" onclick="setFilter('blockchain')">Blockchain</a></li></ul></div>
<div><h4>Contacto</h4><ul><li><a href="#">Twitter</a></li><li><a href="#">Telegram</a></li><li><a href="#">Email</a></li></ul></div>
</footer>
<div class="f-bottom">¬© 2026 Web3 Hoy ¬∑ Web3 explicado para todos</div>

<script>
const SUPABASE_URL='https://vpvsrjkotstvjywhuacr.supabase.co';
const SUPABASE_KEY='eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZwdnNyamtvdHN0dmp5d2h1YWNyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDcyMzE2MzQsImV4cCI6MjA2MjgwNzYzNH0.BDh59N4okIoJB0aOheqp07lYLgd0A4y3Ho1H26xl2jw';
let allNews=[],currentFilter='',searchQuery='';
function parseTags(h){if(!h)return[];if(Array.isArray(h))return h;if(typeof h==='string')return h.split('#').filter(Boolean);return[]}

async function loadNews(){
const r=await fetch(`${SUPABASE_URL}/rest/v1/noticiasesp?status=eq.publicado&order=created_at.desc&limit=60`,
{headers:{'apikey':SUPABASE_KEY,'Authorization':`Bearer ${SUPABASE_KEY}`}});
allNews=await r.json();
buildHero();buildFilters();renderNews();checkHash();
}

function buildHero(){
const el=document.getElementById('heroSection');
if(!allNews.length){el.innerHTML='<div class="loader">Esperando noticias...</div>';return}
const n=allNews[0];const rest=allNews.slice(1,4);
const tags=parseTags(n.hashtags);
el.innerHTML=`<div class="featured">
<div class="featured-main" onclick="showArticle('${n.slug||n.id}')">
<div class="featured-img"></div>
<h2>${n.titulo_noticia}</h2>
<p>${(n.resumo_noticia||'').replace(/<[^>]*>/g,'').slice(0,180)}...</p>
<div class="meta"><span>${tags[0]||'Cripto'}</span> ¬∑ ${n.created_at?new Date(n.created_at).toLocaleDateString('es-ES',{day:'numeric',month:'short'}):''}</div>
</div>
<div class="featured-side">${rest.map((r,i)=>{
const t=parseTags(r.hashtags);
return`<div class="side-card" onclick="showArticle('${r.slug||r.id}')">
<div><h3>${r.titulo_noticia}</h3><p>${(r.resumo_noticia||'').replace(/<[^>]*>/g,'').slice(0,100)}...</p>
<div class="meta"><span>${t[0]||'Cripto'}</span> ¬∑ ${r.created_at?new Date(r.created_at).toLocaleDateString('es-ES',{day:'numeric',month:'short'}):''}</div></div>
<div class="side-thumb"></div></div>`}).join('')}
</div></div>`;
}

function buildFilters(){
const cats=[...new Set(allNews.flatMap(n=>parseTags(n.hashtags).slice(0,2)))].filter(c=>c.length<15).slice(0,5);
document.getElementById('filters').innerHTML='<div class="filter-btn active" onclick="setFilter(\'\')">Todas</div>'+
cats.map(c=>`<div class="filter-btn" onclick="setFilter('${c}')">${c}</div>`).join('');
document.getElementById('navFilters').innerHTML=cats.filter(c=>c.length<15).slice(0,3).map(c=>`<a href="#" onclick="event.preventDefault();setFilter('${c}')">${c}</a>`).join('');
}

function setFilter(f){currentFilter=f;document.querySelectorAll('.filter-btn').forEach(b=>b.classList.toggle('active',b.textContent===f||(f===''&&b.textContent==='Todas')));renderNews()}
function getFiltered(){let f=allNews;if(currentFilter)f=f.filter(n=>parseTags(n.hashtags).includes(currentFilter));if(searchQuery)f=f.filter(n=>(n.titulo_noticia||'').toLowerCase().includes(searchQuery)||(n.resumo_noticia||'').toLowerCase().includes(searchQuery));return f}

function renderNews(){
const f=getFiltered(),start=currentFilter||searchQuery?0:4;
const variants=['','v2','v3','v4'];
document.getElementById('newsGrid').innerHTML=f.slice(start,20).map((n,i)=>{
const tags=parseTags(n.hashtags);
const date=n.created_at?new Date(n.created_at).toLocaleDateString('es-ES',{day:'numeric',month:'short'}):''
return`<div class="news-card" onclick="showArticle('${n.slug||n.id}')">
<div class="card-img ${variants[i%4]}">${n.capa_noticia?`<img src="${n.capa_noticia}" style="width:100%;height:100%;object-fit:cover;position:absolute;inset:0;border-radius:8px">`:''}
</div>
<h3>${n.titulo_noticia}</h3>
<p>${(n.resumo_noticia||'').replace(/<[^>]*>/g,'').slice(0,140)}...</p>
<div class="meta"><span>${tags[0]||'Cripto'}</span> ¬∑ ${date}</div></div>`}).join('');
}

function parseMarkdown(md){if(!md)return'';return md.replace(/^### (.+)$/gm,'<h3>$1</h3>').replace(/^## (.+)$/gm,'<h2>$1</h2>').replace(/\*\*(.+?)\*\*/g,'<strong>$1</strong>').replace(/\*(.+?)\*/g,'<em>$1</em>').replace(/^> (.+)$/gm,'<blockquote>$1</blockquote>').replace(/^- (.+)$/gm,'<li>$1</li>').replace(/(<li>.*<\/li>)/gs,'<ul>$1</ul>').replace(/\[([^\]]+)\]\(([^)]+)\)/g,'<a href="$2" target="_blank">$1</a>').replace(/\n\n/g,'</p><p>').replace(/^/,'<p>').replace(/$/,'</p>')}

async function showArticle(slug){
let n=allNews.find(a=>(a.slug||a.id)==slug);
if(!n){const r=await fetch(`${SUPABASE_URL}/rest/v1/noticiasesp?slug=eq.${slug}&limit=1`,{headers:{'apikey':SUPABASE_KEY,'Authorization':`Bearer ${SUPABASE_KEY}`}});const d=await r.json();if(d.length)n=d[0]}
if(!n)return;
document.getElementById('artTitle').textContent=n.titulo_noticia;
document.getElementById('artMeta').innerHTML=`${n.created_at?new Date(n.created_at).toLocaleDateString('es-ES',{weekday:'long',day:'numeric',month:'long',year:'numeric'}):''} ¬∑ ${parseTags(n.hashtags).map(h=>'#'+h).join(' ')}`;
const artImg=n.capa_noticia?`<img src="${n.capa_noticia}" style="width:100%;max-height:400px;object-fit:cover;border-radius:8px;margin-bottom:2rem">`:'';document.getElementById('artBody').innerHTML=artImg+parseMarkdown(n.corpo_noticia||n.resumo_noticia||'');
document.getElementById('mainView').style.display='none';document.getElementById('articleView').style.display='block';
location.hash='/article/'+slug;window.scrollTo(0,0);
}
function goBack(){document.getElementById('mainView').style.display='';document.getElementById('articleView').style.display='none';location.hash=''}
function doSearch(q){searchQuery=q.toLowerCase();renderNews()}
function checkHash(){const h=location.hash;if(h.startsWith('#/article/'))showArticle(h.replace('#/article/',''))}
window.addEventListener('hashchange',checkHash);
loadNews();
</script>
</body>
</html>
<!-- deployed 20260219052827 -->
